"use strict";(self.webpackChunkreact_app_1=self.webpackChunkreact_app_1||[]).push([[365],{1365:function(e,s,i){i.r(s),i.d(s,{default:function(){return p}});var a=i(3531),n=i(7781),r=i(1548),t=i(1536),l=function(e){return e.friendsData},c=function(e){return e.dialogsPage},d=i(1087),o=i(184),g=function(e){var s=e.id,i=e.imgUrl,a=e.name;return(0,o.jsx)("li",{className:"dialog-item",children:(0,o.jsxs)(d.OL,{to:"/dialogs/".concat(s),className:function(e){return e.isActive?"dialog-item-link dialog-item-link--active":"dialog-item-link"},children:[(0,o.jsx)("div",{className:"dialog-item-img",children:(0,o.jsx)("img",{src:i,alt:"dialogImage"})}),(0,o.jsx)("div",{children:a})]})})},m=function(e){var s=e.receive,i=e.message,a=e.imgUrl,n=s;return(0,o.jsxs)("li",{className:n?"dialog-message dialog-message-receive":"dialog-message",children:[(0,o.jsx)("div",{className:"dialog-message-item_img",children:(0,o.jsx)("img",{src:a,alt:"dialogImage"})}),(0,o.jsx)("div",{className:"dialog-message-text",children:i})]})},u=i(1413),f=i(1134),x=i(4695),h=i(5946),j=function(e){var s,i=e.sendMessage,a=(0,f.cI)({resolver:(0,x.X)(h.Z)}),n=a.register,r=a.handleSubmit,t=a.formState.errors,l=a.reset,c=function(e){i(e.newText)};return(0,o.jsxs)("form",{onSubmit:r((function(e){c(e),l()})),className:"dialogs-send-area",children:[(0,o.jsx)("textarea",(0,u.Z)({className:"dialogs-send-text",placeholder:"Write something"},n("newText",{required:!0}))),(0,o.jsx)("span",{className:"error-message",children:null===(s=t.newText)||void 0===s?void 0:s.message}),(0,o.jsx)("input",{type:"submit",className:"btn dialogs-send-btn"})]})},v=function(e){var s=e.friendsData,i=e.dialogsPage,a=e.sendMessage,n=i.messagesData;return(0,o.jsxs)("div",{className:"dialogs",children:[(0,o.jsx)("ul",{className:"dialogs-items",children:s.map((function(e,s){return(0,o.jsx)(g,{name:e.name,id:e.id,imgUrl:e.imgUrl},s)}))}),(0,o.jsxs)("ul",{className:"dialogs-messages",children:[n.map((function(e,s){return(0,o.jsx)(m,{message:e.message,id:e.id,imgUrl:e.imgUrl,receive:e.receive},s)})),(0,o.jsx)(j,{sendMessage:a})]})]})},p=(0,n.qC)((0,a.$j)((function(e){return{friendsData:l(e),dialogsPage:c(e)}}),(function(e){return{sendMessage:function(s){e((0,t.$)(s))}}})),r.D)(v)},5946:function(e,s,i){var a=i(6727),n=a.Ry().shape({newText:a.Z_().min(1,"Must be longer than 1 character").max(400,"Too long message").required("Required")});s.Z=n},1548:function(e,s,i){i.d(s,{D:function(){return o}});var a=i(1413),n=i(7689),r=i(3531),t=i(7781),l=i(7586),c=i(184),d=function(e){return{isAuth:(0,l.Od)(e),id:(0,l.xT)(e)}},o=function(e){return(0,t.qC)((0,r.$j)(d))((function(s){return s.isAuth?(0,c.jsx)(e,(0,a.Z)({},s)):(0,c.jsx)(n.Fg,{to:"/login"})}))}}}]);
//# sourceMappingURL=365.d23afa49.chunk.js.map